
/* ==========================================================================
   HourlyDashboardScoped.css — Ultra v2 (drop‑in, scope‑only)
   Scope: .hourly-dashboard.scoped-dashboard (+ [data-context="hourly"] modals)
   Ziel: 1:1 Look & Feel wie PercentageDashboard/UserDashboard – ohne JSX zu ändern.
   ========================================================================== */

/* ---------- Root / Tokens ---------- */
.hourly-dashboard.scoped-dashboard {
    --ud-font-family: "Inter", "Poppins", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;

    /* Type */
    --ud-fz-2xs: .75rem;
    --ud-fz-xs:  .8125rem;
    --ud-fz-sm:  .875rem;
    --ud-fz-md:  1rem;
    --ud-fz-lg:  1.125rem;
    --ud-fz-xl:  1.5rem;
    --ud-fz-2xl: 2rem;

    /* Radii & Spacing */
    --ud-radius-3xl: 28px;
    --ud-radius-2xl: 22px;
    --ud-radius-xl: 18px;
    --ud-radius-lg: 14px;
    --ud-radius-md: 10px;
    --ud-gap-2xl: 2.6rem;
    --ud-gap-xl: 2rem;
    --ud-gap-lg: 1.25rem;
    --ud-gap-md: 1rem;
    --ud-gap-sm: .75rem;
    --ud-gap-xs: .5rem;

    /* Palette (Light) */
    --ud-c-text: #0b1220;
    --ud-c-text-muted: #3b4456;
    --ud-c-text-secondary: #525e78;
    --ud-c-bg: #f6f8fc;
    --ud-c-card: #ffffff;
    --ud-c-surface: #eef2f8;
    --ud-c-border: #e3e8f2;
    --ud-c-line: #e9edf6;

    --ud-c-primary: #2563eb;
    --ud-c-primary-dim: #1f4fd6;
    --ud-c-primary-rgb: 37,99,235;
    --ud-c-primary-text: #1e40af;

    --ud-c-success: #10b981;
    --ud-c-error: #ef4444;
    --ud-c-warn: #f59e0b;

    --ud-c-time: #111827;
    --ud-c-bg-input: #fff;

    /* Customer color helpers */
    --customer-color-saturation: 54%;
    --customer-color-lightness: 90%;

    /* Effects */
    --ud-shadow-card: 0 14px 36px rgba(16, 24, 40, .08);
    --ud-shadow-hover: 0 20px 46px rgba(16, 24, 40, .14);
    --ud-ring: 0 0 0 3px rgba(var(--ud-c-primary-rgb), .15);
    --ud-accent-grad: radial-gradient(600px 200px at 20% 0%, rgba(var(--ud-c-primary-rgb),.08), transparent 60%);

    min-height: 100vh;
    font-family: var(--ud-font-family);
    font-size: var(--ud-fz-md);
    background:
            radial-gradient(1200px 600px at 10% -10%, rgba(37,99,235,.06), transparent 60%),
            radial-gradient(900px 600px at 110% 10%, rgba(2,132,199,.06), transparent 60%),
            var(--ud-c-bg);
    color: var(--ud-c-text);
    padding: clamp(1rem, 2.4vw, 2rem);
    box-sizing: border-box;
}

/* Dark theme */
[data-theme="dark"] .hourly-dashboard.scoped-dashboard {
    --ud-c-text: #e9edf6;
    --ud-c-text-muted: #b2bdd2;
    --ud-c-text-secondary: #a3afc8;
    --ud-c-bg: #0c101b;
    --ud-c-card: #141a2b;
    --ud-c-surface: #1a2137;
    --ud-c-border: #273251;
    --ud-c-line: #253153;

    --ud-c-primary: #63b3ff;
    --ud-c-primary-dim: #4aa3ff;
    --ud-c-primary-rgb: 99,179,255;
    --ud-c-primary-text: #7ec2ff;

    --ud-c-success: #34d399;
    --ud-c-error: #ff6b6b;
    --ud-c-warn: #fbbf24;

    --ud-c-time: #f8fafc;
    --ud-c-bg-input: #1a2137;

    --customer-color-saturation: 42%;
    --customer-color-lightness: 26%;

    --ud-shadow-card: 0 20px 52px rgba(0,0,0,.42);
    --ud-shadow-hover: 0 28px 70px rgba(0,0,0,.55);
    --ud-ring: 0 0 0 3px rgba(var(--ud-c-primary-rgb), .20);

    background:
            radial-gradient(1200px 600px at -10% -10%, rgba(99,179,255,.06), transparent 60%),
            radial-gradient(900px 600px at 110% 10%, rgba(2,132,199,.08), transparent 60%),
            var(--ud-c-bg);
}

/* ---------- Helpers ---------- */
.hourly-dashboard.scoped-dashboard .muted { color: var(--ud-c-text-muted); }
.hourly-dashboard.scoped-dashboard .chip { display:inline-flex; align-items:center; gap:.4rem; padding:.25rem .55rem; border-radius:999px; border:1px solid var(--ud-c-border); background: color-mix(in srgb, var(--ud-c-surface) 82%, transparent); font-size: var(--ud-fz-2xs); }
.hourly-dashboard.scoped-dashboard .ring-focus { box-shadow: var(--ud-ring); }
.hourly-dashboard.scoped-dashboard * { transition: background-color .18s, color .18s, border-color .18s, box-shadow .18s, transform .18s; }

/* ---------- Inputs ---------- */
.hourly-dashboard.scoped-dashboard input,
.hourly-dashboard.scoped-dashboard select,
.hourly-dashboard.scoped-dashboard textarea {
    width: 100%;
    font: inherit; color: var(--ud-c-text);
    background: var(--ud-c-bg-input);
    border: 1px solid var(--ud-c-border);
    border-radius: var(--ud-radius-md);
    padding: .72rem .95rem;
}
.hourly-dashboard.scoped-dashboard select { cursor: pointer; }
.hourly-dashboard.scoped-dashboard input:focus,
.hourly-dashboard.scoped-dashboard select:focus,
.hourly-dashboard.scoped-dashboard textarea:focus { outline: none; box-shadow: var(--ud-ring); border-color: rgba(var(--ud-c-primary-rgb), .8); }

/* ---------- Header ---------- */
.hourly-dashboard.scoped-dashboard .dashboard-header {
    position: relative;
    display: grid; gap: var(--ud-gap-lg);
    grid-template-columns: 1fr auto;
    align-items: center;
    padding: clamp(1rem, 1.8vw, 1.6rem);
    border: 1px solid var(--ud-c-border);
    border-radius: var(--ud-radius-3xl);
    background: linear-gradient(180deg, var(--ud-c-card) 0%, var(--ud-c-surface) 100%);
    box-shadow: var(--ud-shadow-card);
    margin-bottom: var(--ud-gap-2xl);
    overflow: hidden;
}
.hourly-dashboard.scoped-dashboard .dashboard-header::after { content:""; position:absolute; inset:0; background: var(--ud-accent-grad); pointer-events:none; }
.hourly-dashboard.scoped-dashboard .dashboard-header h1 { margin: 0; font-size: clamp(1.6rem, 2.6vw, var(--ud-fz-2xl)); letter-spacing: -0.02em; color: var(--ud-c-primary-text); }

/* ---------- Buttons ---------- */
.hourly-dashboard.scoped-dashboard .button-primary,
.hourly-dashboard.scoped-dashboard .button-primary-outline,
.hourly-dashboard.scoped-dashboard .button-secondary {
    appearance:none; -webkit-appearance:none;
    display:inline-flex; align-items:center; justify-content:center; gap:.5rem;
    border-radius: var(--ud-radius-md);
    padding:.68rem 1rem; font-weight: 720; font-size: var(--ud-fz-sm);
    border:1px solid transparent; cursor:pointer; user-select:none;
    will-change: transform;
}
.hourly-dashboard.scoped-dashboard .button-primary { background: linear-gradient(180deg, var(--ud-c-primary) 0%, var(--ud-c-primary-dim) 100%); color:#fff; border-color: color-mix(in srgb, var(--ud-c-primary-dim) 70%, #000); box-shadow: 0 2px 0 rgba(0,0,0,.05), 0 10px 20px rgba(var(--ud-c-primary-rgb), .25); }
.hourly-dashboard.scoped-dashboard .button-primary:hover { filter: brightness(1.06); transform: translateY(-1px); box-shadow: 0 12px 26px rgba(var(--ud-c-primary-rgb), .34); }
.hourly-dashboard.scoped-dashboard .button-primary:active { transform: translateY(0); box-shadow: 0 8px 18px rgba(var(--ud-c-primary-rgb), .28); }
.hourly-dashboard.scoped-dashboard .button-primary:disabled,
.hourly-dashboard.scoped-dashboard .button-primary-outline:disabled,
.hourly-dashboard.scoped-dashboard .button-secondary:disabled { opacity:.75; cursor:not-allowed; filter:saturate(.7); }

.hourly-dashboard.scoped-dashboard .button-primary-outline { background: transparent; color: var(--ud-c-primary-text); border:1.5px solid var(--ud-c-primary); }
.hourly-dashboard.scoped-dashboard .button-primary-outline:hover { background: rgba(var(--ud-c-primary-rgb), .12); }

.hourly-dashboard.scoped-dashboard .button-secondary { background: #fff; color: #0f172a; border:1px solid #cbd5e1; }
.hourly-dashboard.scoped-dashboard .button-secondary:hover { background:#f8fafc; }
[data-theme="dark"] .hourly-dashboard.scoped-dashboard .button-secondary { background:#262b44; color:#e9ecef; border-color:#3a3f58; }
[data-theme="dark"] .hourly-dashboard.scoped-dashboard .button-secondary:hover { background:#2e3554; }

/* ---------- Generic Section Card ---------- */
.hourly-dashboard.scoped-dashboard .content-section {
    position: relative;
    background: var(--ud-c-card);
    border: 1px solid var(--ud-c-border);
    border-radius: var(--ud-radius-3xl);
    box-shadow: var(--ud-shadow-card);
    padding: clamp(1rem, 1.4vw, 1.6rem);
    margin-bottom: var(--ud-gap-2xl);
    overflow: hidden;
}
.hourly-dashboard.scoped-dashboard .content-section::before { content:""; position:absolute; inset:0; background: var(--ud-accent-grad); pointer-events:none; }
.hourly-dashboard.scoped-dashboard .section-title { margin: 0 0 .9rem 0; padding-bottom: .8rem; border-bottom: 1px solid var(--ud-c-line); color: var(--ud-c-primary-text); font-weight: 700; font-size: var(--ud-fz-xl); display: inline-flex; align-items:center; gap:.55rem; }
.hourly-dashboard.scoped-dashboard .section-title::before { content:""; width:.55rem; height:.55rem; border-radius:50%; background: var(--ud-c-primary); box-shadow:0 0 0 4px rgba(var(--ud-c-primary-rgb), .18); }

/* ---------- Punch Section ---------- */
.hourly-dashboard.scoped-dashboard .punch-section {
    text-align:center; background: var(--ud-c-surface);
    border: 1px solid var(--ud-c-border);
    border-radius: var(--ud-radius-2xl);
    padding: 1rem; box-shadow: var(--ud-shadow-card);
    margin-bottom: 1rem;
}
.hourly-dashboard.scoped-dashboard .punch-section h4 { margin:0 0 .7rem 0; font-size: var(--ud-fz-lg); }
.hourly-dashboard.scoped-dashboard .customer-project-selectors { display:grid; gap:.55rem; max-width: 520px; margin: 0 auto .85rem; }

/* Toast */
.hourly-dashboard.scoped-dashboard .punch-message {
    position: sticky; top: .8rem; margin-bottom: 1rem;
    background: linear-gradient(90deg, rgba(var(--ud-c-primary-rgb),.14), rgba(var(--ud-c-primary-rgb),.28));
    color: #fff; border-radius: 999px; padding: .6rem 1rem; text-align: center; font-weight: 700; letter-spacing: .01em;
    box-shadow: 0 10px 24px rgba(var(--ud-c-primary-rgb), .25);
}

/* ---------- Week Navigation ---------- */
.hourly-dashboard.scoped-dashboard .week-navigation {
    position: sticky; top: .5rem; z-index: 5;
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    grid-template-areas:
    "prev date next"
    ". current .";
    align-items: center;
    gap: .65rem 1rem;
    padding: .9rem 1rem;
    border-radius: var(--ud-radius-xl);
    background: linear-gradient(180deg, var(--ud-c-surface) 0%, color-mix(in srgb, var(--ud-c-card) 70%, transparent) 100%);
    border: 1px solid var(--ud-c-border);
    box-shadow: var(--ud-shadow-card);
}
.hourly-dashboard.scoped-dashboard .week-navigation > :nth-child(1) { grid-area: prev; justify-self: start; }
.hourly-dashboard.scoped-dashboard .week-navigation > :nth-child(2) { grid-area: date; justify-self: center; }
.hourly-dashboard.scoped-dashboard .week-navigation > :nth-child(3) { grid-area: next; justify-self: end; }
.hourly-dashboard.scoped-dashboard .week-navigation > :nth-child(4) { grid-area: current; justify-self: center; margin-top: .1rem; }
.hourly-dashboard.scoped-dashboard .week-navigation input[type="date"] { width: auto; min-width: 200px; text-align: center; background: var(--ud-c-card); }

/* ---------- Weekly Totals (KPI) ---------- */
.hourly-dashboard.scoped-dashboard .weekly-monthly-totals {
    display:grid; gap: 1rem; grid-template-columns: repeat(auto-fit, minmax(170px,1fr));
    margin-top: .6rem; margin-bottom: 1.35rem;
}
.hourly-dashboard.scoped-dashboard .summary-item {
    position:relative; background: var(--ud-c-card);
    border: 1px solid var(--ud-c-border);
    border-radius: var(--ud-radius-xl);
    padding: 1.05rem 1rem 1.15rem;
    text-align:center; box-shadow: var(--ud-shadow-card);
}
.hourly-dashboard.scoped-dashboard .summary-item::after { content:""; position:absolute; inset:auto 10% 8px 10%; height:4px; border-radius:6px; background: linear-gradient(90deg, rgba(var(--ud-c-primary-rgb),.35), rgba(var(--ud-c-primary-rgb),.65)); }
.hourly-dashboard.scoped-dashboard .summary-label { display:block; font-size: var(--ud-fz-2xs); color: var(--ud-c-text-muted); margin-bottom:.25rem; letter-spacing:.02em; text-transform:uppercase; }
.hourly-dashboard.scoped-dashboard .summary-value { font-size: clamp(1.1rem, 1.7vw, 1.35rem); font-weight: 750; color: var(--ud-c-text); }

/* ---------- TrendChart (falls vorhanden) – Achsen/Labels ausblenden ---------- */
.hourly-dashboard.scoped-dashboard .weekly-overview .recharts-wrapper text,
.hourly-dashboard.scoped-dashboard .weekly-overview .recharts-layer text,
.hourly-dashboard.scoped-dashboard .weekly-overview .recharts-cartesian-axis,
.hourly-dashboard.scoped-dashboard .weekly-overview .recharts-cartesian-grid,
.hourly-dashboard.scoped-dashboard .weekly-overview .recharts-xAxis,
.hourly-dashboard.scoped-dashboard .weekly-overview .recharts-yAxis {
    display: none !important;
}
.hourly-dashboard.scoped-dashboard .weekly-overview .recharts-wrapper { margin-bottom: .35rem; }

/* ---------- Week Grid / Day Cards ---------- */
.hourly-dashboard.scoped-dashboard .week-display {
    display: grid;
    gap: calc(var(--ud-gap-xl) + .2rem);
    grid-template-columns: repeat(auto-fit, minmax(min(100%, 380px), 1fr));
    margin-top: 1.25rem;
}

.hourly-dashboard.scoped-dashboard .day-card,
.hourly-dashboard.scoped-dashboard .week-day-card {
    position:relative; display:flex; flex-direction:column;
    background: var(--ud-c-card);
    border: 1px solid var(--ud-c-border);
    border-radius: var(--ud-radius-2xl);
    box-shadow: var(--ud-shadow-card);
    padding: .95rem; overflow:hidden;
}
.hourly-dashboard.scoped-dashboard .week-day-card::before { content:""; position:absolute; inset:0; background: radial-gradient(400px 160px at 10% 0%, rgba(var(--ud-c-primary-rgb),.05), transparent 60%); pointer-events:none; }
.hourly-dashboard.scoped-dashboard .week-day-card:hover { border-color: color-mix(in srgb, var(--ud-c-primary) 50%, var(--ud-c-border)); transform: translateY(-4px); box-shadow: var(--ud-shadow-hover); }

.hourly-dashboard.scoped-dashboard .day-card-header,
.hourly-dashboard.scoped-dashboard .week-day-header {
    margin-bottom:.6rem;
    display:flex;
    flex-wrap:wrap;
    align-items:flex-start;
    justify-content:space-between;
    gap:.75rem;
}
.hourly-dashboard.scoped-dashboard .day-card-header h3,
.hourly-dashboard.scoped-dashboard .week-day-header h4 { margin:0; font-size: var(--ud-fz-lg); font-weight: 720; }

.hourly-dashboard.scoped-dashboard .day-card-header-main { display:flex; flex-direction:column; gap:.35rem; flex:1 1 60%; min-width:0; }
.hourly-dashboard.scoped-dashboard .day-card-badges { display:flex; flex-wrap:wrap; gap:.4rem; }
.hourly-dashboard.scoped-dashboard .day-card-actions { display:flex; flex:0 0 auto; }
.hourly-dashboard.scoped-dashboard .day-card-actions .button-primary-outline { white-space:nowrap; }

/* Badges / Indicators */
.hourly-dashboard.scoped-dashboard .day-card-badge {
    position:relative;
    top:auto;
    right:auto;
    font-size:.75rem;
    padding:.28rem .55rem;
    border-radius:999px;
    border:1px solid currentColor;
    opacity:.96;
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    white-space:nowrap;
    max-width:100%;
    overflow:hidden;
    text-overflow:ellipsis;
}
.hourly-dashboard.scoped-dashboard .vacation-badge { background: color-mix(in srgb, var(--ud-c-primary) 12%, transparent); color: var(--ud-c-primary); }
.hourly-dashboard.scoped-dashboard .project-badge { background: color-mix(in srgb, var(--ud-c-success) 16%, transparent); color: var(--ud-c-success); }
[data-theme="dark"] .hourly-dashboard.scoped-dashboard .project-badge { background: color-mix(in srgb, var(--ud-c-success) 34%, transparent); }
.hourly-dashboard.scoped-dashboard .vacation-indicator { background: color-mix(in srgb, var(--ud-c-primary) 8%, transparent); color: var(--ud-c-primary); padding:.2rem .5rem; border-radius: 999px; display:inline-block; }

/* Entry list */
.hourly-dashboard.scoped-dashboard .time-entry-list { list-style:none; margin:.55rem 0 0 0; padding:0; font-size: var(--ud-fz-sm); }
.hourly-dashboard.scoped-dashboard .time-entry-list li { display:flex; align-items:center; justify-content:space-between; gap:.75rem; padding:.48rem .6rem; border-bottom:1px dashed var(--ud-c-line); border-radius: var(--ud-radius-md); }
.hourly-dashboard.scoped-dashboard .time-entry-list li:last-child { border-bottom:none; }
.hourly-dashboard.scoped-dashboard .entry-label { color: var(--ud-c-text-muted); }
.hourly-dashboard.scoped-dashboard .entry-time { color: var(--ud-c-time); font-weight: 680; letter-spacing:.01em; }
.hourly-dashboard.scoped-dashboard .late-time { color: var(--ud-c-error); font-weight: 760; background: color-mix(in srgb, var(--ud-c-error) 16%, transparent); padding:.14rem .38rem; border-radius:.5rem; }
.hourly-dashboard.scoped-dashboard .entry-meta { font-size: var(--ud-fz-2xs); color: var(--ud-c-text-secondary); }

/* Empty state */
.hourly-dashboard.scoped-dashboard .no-entries { display:flex; align-items:center; justify-content:center; min-height: 92px; margin:.75rem 0 0 0; padding:.75rem; font-size: var(--ud-fz-sm); font-style: italic; color: var(--ud-c-text-muted); background: var(--ud-c-surface); border: 1px dashed var(--ud-c-border); border-radius: var(--ud-radius-xl); }

/* Daily totals & notes */
.hourly-dashboard.scoped-dashboard .daily-summary-times { margin-top:.45rem; padding-top:.6rem; border-top:1px solid var(--ud-c-line); font-size: var(--ud-fz-sm); }
.hourly-dashboard.scoped-dashboard .daily-summary-times p { margin:.25rem 0; display:flex; justify-content:space-between; gap:.75rem; }
.hourly-dashboard.scoped-dashboard .daily-summary-times p strong { color: var(--ud-c-text-secondary); font-weight: 680; }

.hourly-dashboard.scoped-dashboard .daily-note-container { margin-top:.75rem; padding-top:.65rem; border-top:1px solid var(--ud-c-line); }
.hourly-dashboard.scoped-dashboard .daily-note-editor { width:100%; min-height: 112px; resize: vertical; }
.hourly-dashboard.scoped-dashboard .daily-note-display { display:flex; align-items:flex-start; gap:.6rem; }
.hourly-dashboard.scoped-dashboard .daily-note-display .note-content { flex:1 1 auto; word-break: break-word; }
.hourly-dashboard.scoped-dashboard .daily-note-display p { margin:.1rem 0 0 0; color: var(--ud-c-text-secondary); white-space: pre-wrap; }
.hourly-dashboard.scoped-dashboard .button-edit-note { background:transparent; border:none; font-size:1.2rem; line-height:1; cursor:pointer; border-radius:999px; padding:.35rem; }
.hourly-dashboard.scoped-dashboard .button-edit-note:hover { background: color-mix(in srgb, var(--ud-c-surface) 90%, transparent); }
.hourly-dashboard.scoped-dashboard .note-buttons { display:flex; gap:.5rem; }

/* Correction button row */
.hourly-dashboard.scoped-dashboard .correction-button-row { margin-top:auto; padding-top:.7rem; border-top:1px solid var(--ud-c-line); display:grid; gap:.5rem; }

/* ---------- Corrections Panel ---------- */
.hourly-dashboard.scoped-dashboard .correction-panel .corrections-header { display:flex; align-items:center; justify-content:space-between; cursor:pointer; background: var(--ud-c-surface); border:1px solid var(--ud-c-border); border-bottom:none; border-radius: var(--ud-radius-2xl) var(--ud-radius-2xl) 0 0; padding:.95rem 1rem; }
.hourly-dashboard.scoped-dashboard .correction-panel .corrections-header:hover { background: color-mix(in srgb, var(--ud-c-surface) 80%, transparent); }
.hourly-dashboard.scoped-dashboard .corrections-header .toggle-icon { font-size: var(--ud-fz-md); }
.hourly-dashboard.scoped-dashboard .correction-panel .corrections-content { background: var(--ud-c-card); border:1px solid var(--ud-c-border); border-top:none; border-radius: 0 0 var(--ud-radius-2xl) var(--ud-radius-2xl); padding:1rem; }
.hourly-dashboard.scoped-dashboard .corrections-nav.week-navigation { margin-bottom: .6rem; }
.hourly-dashboard.scoped-dashboard .toggle-all-button { display:flex; justify-content:center; margin-bottom:.6rem; }

.hourly-dashboard.scoped-dashboard .corrections-list { list-style:none; margin:0; padding:0; max-height: 440px; overflow:auto; border:1px solid var(--ud-c-line); border-radius: var(--ud-radius-xl); background: var(--ud-c-surface); }
.hourly-dashboard.scoped-dashboard .corrections-list li { padding:.85rem; border-bottom:1px solid var(--ud-c-border); font-size: var(--ud-fz-sm); }
.hourly-dashboard.scoped-dashboard .correction-header-info { display:flex; align-items:center; justify-content:space-between; gap:.5rem; margin-bottom:.25rem; }
.hourly-dashboard.scoped-dashboard .correction-detail-block { background: var(--ud-c-card); border:1px solid var(--ud-c-line); border-radius: var(--ud-radius-md); padding:.55rem .6rem; margin-bottom:.5rem; }
[data-theme="dark"] .hourly-dashboard.scoped-dashboard .correction-detail-block { background: var(--ud-c-surface); }
.hourly-dashboard.scoped-dashboard .status-is-approved .status-indicator { color: var(--ud-c-success); font-weight: 760; }
.hourly-dashboard.scoped-dashboard .status-is-denied .status-indicator { color: var(--ud-c-error); font-weight: 760; }
.hourly-dashboard.scoped-dashboard .status-is-pending .status-indicator { color: var(--ud-c-warn); font-weight: 760; }

/* ---------- Modals ---------- */
.modal-overlay[data-context="hourly"] { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; padding:1rem; background: rgba(17,24,39,.55); backdrop-filter: blur(10px) saturate(150%); -webkit-backdrop-filter: blur(10px) saturate(150%); z-index:10000; }
.modal-content[data-context="hourly"] {
    width: 100%;
    max-width: 680px;
    max-height: 90vh;
    overflow: auto;
    background: var(--modal-surface); /* Korrektur: Nutzt globale Modal-Farbe */
    color: var(--modal-text);       /* Korrektur: Nutzt globale Modal-Farbe */
    border: 1px solid var(--modal-border); /* Korrektur: Nutzt globale Modal-Farbe */
    border-radius: 20px;
    box-shadow: 0 24px 60px rgba(0,0,0,.28);
    padding: clamp(.9rem, 2vw, 1.4rem);
}
/* ---------- Skeleton ---------- */
.hourly-dashboard.scoped-dashboard .skeleton-card { height: 190px; border-radius: var(--ud-radius-3xl); background: linear-gradient(90deg, rgba(0,0,0,.06) 25%, rgba(0,0,0,.12) 37%, rgba(0,0,0,.06) 63%); background-size: 400% 100%; animation: ud-shimmer 1.25s ease-in-out infinite; border:1px solid var(--ud-c-border); }
[data-theme="dark"] .hourly-dashboard.scoped-dashboard .skeleton-card { background: linear-gradient(90deg, rgba(255,255,255,.05) 25%, rgba(255,255,255,.12) 37%, rgba(255,255,255,.05) 63%); }
@keyframes ud-shimmer { 0% { background-position: 100% 0; } 100% { background-position: 0 0; } }

/* ---------- Responsive ---------- */
@media (max-width: 980px) { .hourly-dashboard.scoped-dashboard { padding: clamp(.8rem, 2vw, 1.2rem); } .hourly-dashboard.scoped-dashboard .dashboard-header { grid-template-columns: 1fr; } }
@media (max-width: 640px) { .hourly-dashboard.scoped-dashboard { font-size: .96rem; } .hourly-dashboard.scoped-dashboard .week-navigation { flex-direction: column; align-items: stretch; } .hourly-dashboard.scoped-dashboard .week-navigation > * { width: 100%; } }


/* === CorrectionModal: universelles Styling für Entfernen-Button (passt für CorrectionModal ohne data-context) === */
.scoped-dashboard .modal-content .entry-row,
.scoped-dashboard .modal-content .correction-entry,
.scoped-dashboard .modal-content .entry-block {
    position: relative;
    padding-right: 46px; /* Platz für den Button */
}

/* Fange typische Varianten ab: vorhandene Klassen ODER fallback = erster Button/Link/Span in der Row */
.scoped-dashboard .modal-content .entry-row > .remove-entry,
.scoped-dashboard .modal-content .correction-entry > .remove-entry,
.scoped-dashboard .modal-content .entry-block > .remove-entry,
.scoped-dashboard .modal-content .entry-row > .btn-remove,
.scoped-dashboard .modal-content .correction-entry > .btn-remove,
.scoped-dashboard .modal-content .entry-block > .btn-remove,
.scoped-dashboard .modal-content .entry-row > button:first-of-type,
.scoped-dashboard .modal-content .correction-entry > button:first-of-type,
.scoped-dashboard .modal-content .entry-block > button:first-of-type,
.scoped-dashboard .modal-content .entry-row > a:first-of-type,
.scoped-dashboard .modal-content .correction-entry > a:first-of-type,
.scoped-dashboard .modal-content .entry-block > a:first-of-type,
.scoped-dashboard .modal-content .entry-row > span:first-of-type,
.scoped-dashboard .modal-content .correction-entry > span:first-of-type,
.scoped-dashboard .modal-content .entry-block > span:first-of-type {
    position: absolute;
    top: 8px;
    right: 10px;
    width: 30px;
    height: 30px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 999px;
    border: 1px solid var(--ud-c-border);
    background: color-mix(in srgb, var(--ud-c-error) 12%, var(--ud-c-surface));
    color: var(--ud-c-error);
    font-weight: 800;
    font-size: 16px;
    line-height: 1;
    cursor: pointer;
    box-shadow: 0 8px 18px rgba(0,0,0,.18);
    padding: 0;
    text-decoration: none;
}

/* Wenn das Element nur ein einfaches "x" ist, ersetze es visuell durch ein klares Symbol */
.scoped-dashboard .modal-content .entry-row > button:first-of-type::before,
.scoped-dashboard .modal-content .correction-entry > button:first-of-type::before,
.scoped-dashboard .modal-content .entry-block > button:first-of-type::before,
.scoped-dashboard .modal-content .entry-row > a:first-of-type::before,
.scoped-dashboard .modal-content .correction-entry > a:first-of-type::before,
.scoped-dashboard .modal-content .entry-block > a:first-of-type::before,
.scoped-dashboard .modal-content .entry-row > span:first-of-type::before,
.scoped-dashboard .modal-content .correction-entry > span:first-of-type::before,
.scoped-dashboard .modal-content .entry-block > span:first-of-type::before {
    content: "✕";
}

/* Hover/Active */
.scoped-dashboard .modal-content .entry-row > .remove-entry:hover,
.scoped-dashboard .modal-content .correction-entry > .remove-entry:hover,
.scoped-dashboard .modal-content .entry-block > .remove-entry:hover,
.scoped-dashboard .modal-content .entry-row > .btn-remove:hover,
.scoped-dashboard .modal-content .correction-entry > .btn-remove:hover,
.scoped-dashboard .modal-content .entry-block > .btn-remove:hover,
.scoped-dashboard .modal-content .entry-row > button:first-of-type:hover,
.scoped-dashboard .modal-content .correction-entry > button:first-of-type:hover,
.scoped-dashboard .modal-content .entry-block > button:first-of-type:hover,
.scoped-dashboard .modal-content .entry-row > a:first-of-type:hover,
.scoped-dashboard .modal-content .correction-entry > a:first-of-type:hover,
.scoped-dashboard .modal-content .entry-block > a:first-of-type:hover,
.scoped-dashboard .modal-content .entry-row > span:first-of-type:hover,
.scoped-dashboard .modal-content .correction-entry > span:first-of-type:hover,
.scoped-dashboard .modal-content .entry-block > span:first-of-type:hover {
    background: color-mix(in srgb, var(--ud-c-error) 18%, var(--ud-c-surface));
    transform: translateY(-1px);
    box-shadow: 0 12px 24px rgba(0,0,0,.22);
}
