/* Scope: .scoped-notification
   Ziel:
   - Top-zentriert, fixed, nicht blockierend
   - Light & Dark Mode über Tokens
   - Deutlicher Hintergrund + border + Shadow
   - sanfte Animation + Auto-Hide
*/

/* ----------------------------- Container ----------------------------- */
.scoped-notification .notification-portal {
    position: fixed;
    z-index: 9999;
    top: 16px;
    left: 50%;
    transform: translateX(-50%);
    width: min(720px, calc(100vw - 32px));
    pointer-events: none; /* klickt nicht in die Seite rein */
}

/* ------------------------------ Toast -------------------------------- */
.scoped-notification .notification-toast {
    pointer-events: auto;
    display: inline-block;
    background: var(--c-card, #ffffff);
    /* subtiler, moderner Kartenlook */
    backdrop-filter: saturate(140%) blur(6px);
    -webkit-backdrop-filter: saturate(140%) blur(6px);
    color: var(--c-text, #111827);
    border: 1px solid var(--c-border, rgba(0,0,0,0.12));
    border-radius: 12px;
    box-shadow: var(--u-shadow-lg, 0 10px 30px rgba(0,0,0,0.15));
    padding: 0.875rem 1rem;
    transition: transform 160ms var(--u-ease, ease), opacity 160ms var(--u-ease, ease);
    transform: translateY(-12px);
    opacity: 0;
}

/* Animation in/out */
.scoped-notification .notification-toast.show {
    transform: translateY(0);
    opacity: 1;
}
.scoped-notification .notification-toast.hide {
    transform: translateY(-12px);
    opacity: 0;
    pointer-events: none;
}

/* Inhalt */
.scoped-notification .notification-content {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}
.scoped-notification .notification-text {
    margin: 0;
    font-size: 0.95rem;
    line-height: 1.35;
    font-weight: 600;
}

/* Close-Button */
.scoped-notification .notification-close {
    margin-left: auto;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 34px;
    height: 34px;
    border-radius: 8px;
    border: 1px solid var(--c-border, rgba(0,0,0,0.12));
    background: var(--c-surface, #f9fafb);
    color: var(--c-text, #111827);
    cursor: pointer;
    font-size: 1.2rem;
    line-height: 1;
    transition: transform 160ms var(--u-ease, ease), background 160ms var(--u-ease, ease);
}
.scoped-notification .notification-close:hover {
    transform: translateY(-1px);
}

/* ----------------------------- Varianten ----------------------------- */
/* Linke Akzentleiste für klare Erkennung */
.scoped-notification .notification-toast.info {
    border-left: 6px solid var(--c-info, #3b82f6);
}
.scoped-notification .notification-toast.success {
    border-left: 6px solid var(--c-success, #22c55e);
}
.scoped-notification .notification-toast.warn {
    border-left: 6px solid var(--c-warn, #f59e0b);
}
.scoped-notification .notification-toast.error {
    border-left: 6px solid var(--c-error, #ef4444);
}

/* Optional leicht getönter Hintergrund pro Typ (Fallback = var(--c-card)) */
@supports (background: color-mix(in srgb, #000, #fff)) {
    .scoped-notification .notification-toast.info {
        background: color-mix(in srgb, var(--c-card, #ffffff) 92%, var(--c-info, #3b82f6));
    }
    .scoped-notification .notification-toast.success {
        background: color-mix(in srgb, var(--c-card, #ffffff) 92%, var(--c-success, #22c55e));
    }
    .scoped-notification .notification-toast.warn {
        background: color-mix(in srgb, var(--c-card, #ffffff) 92%, var(--c-warn, #f59e0b));
    }
    .scoped-notification .notification-toast.error {
        background: color-mix(in srgb, var(--c-card, #ffffff) 92%, var(--c-error, #ef4444));
    }
}

/* ------------------------------ Dark Mode ---------------------------- */
[data-theme="dark"] .scoped-notification .notification-toast {
    background: var(--c-card, #1f2937);
    color: var(--c-text, #e5e7eb);
    border-color: var(--c-border, rgba(255,255,255,0.14));
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
}
[data-theme="dark"] .scoped-notification .notification-close {
    background: var(--c-surface, #111827);
    color: var(--c-text, #e5e7eb);
    border-color: var(--c-border, rgba(255,255,255,0.14));
}

/* Responsive Kleinigkeiten */
@media (max-width: 420px) {
    .scoped-notification .notification-text {
        font-size: 0.9rem;
    }
    .scoped-notification .notification-close {
        width: 30px; height: 30px; font-size: 1.05rem;
    }
}
