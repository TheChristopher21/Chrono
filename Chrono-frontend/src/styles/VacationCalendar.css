/* =========================================================================
   VacationCalendar.css · Isoliert
   Scope: .scoped-vacation  (+ Modals via [data-context="vacation"])
   Keine globalen Selektoren, keine Überschneidungen mit anderen Dashboards.
   Light/Dark übernimmt Tokens aus dem umgebenden Dashboard (var(--ud-*)).
   ========================================================================= */

/* ---------- Wrapper / Card ---------- */
.scoped-vacation .vacation-calendar-wrapper {
    font-family: var(--ud-font-family, "Poppins", system-ui, sans-serif);
    color: var(--ud-c-text, #0f172a);
    background: var(--ud-c-card, #fff);
    border: 1px solid var(--ud-c-border, #dee2e6);
    border-radius: var(--ud-radius-xl, 24px);
    box-shadow: var(--ud-shadow-card, 0 10px 30px rgba(0,0,0,.07));
    padding: var(--ud-gap-lg, 1.5rem);
}
[data-theme="dark"] .scoped-vacation .vacation-calendar-wrapper {
    background: var(--ud-c-card, #1c1e2e);
    border-color: var(--ud-c-border, #3a3f58);
}

/* ---------- Info-Header ---------- */
.scoped-vacation .vacation-info-header {
    margin-bottom: var(--ud-gap-lg, 1.5rem);
    padding-bottom: var(--ud-gap-md, 1rem);
    border-bottom: 1px solid var(--ud-c-line, #e5e7eb);
    text-align: center;
}
.scoped-vacation .vacation-info-header h4 {
    margin: var(--ud-gap-xs, .5rem) 0;
    font-size: var(--ud-fz-md, 1rem);
    font-weight: 500;
    color: var(--ud-c-text-muted, #334155);
}
.scoped-vacation .vacation-info-header h4 strong { color: var(--ud-c-text, #0f172a); }

/* ---------- React-Calendar Baseline ---------- */
.scoped-vacation .react-calendar {
    width: 100% !important;
    background: transparent;
    border: 0;
    padding: 0;
    box-shadow: none;
    font-family: inherit;
}

/* Navigation (Monat/Jahr, Pfeile) */
.scoped-vacation .react-calendar__navigation {
    display: flex; align-items: center;
    gap: var(--ud-gap-sm, .75rem);
    padding: var(--ud-gap-sm, .75rem) 0;
    border-bottom: 1px solid var(--ud-c-line, #e5e7eb);
    margin-bottom: var(--ud-gap-md, 1rem);
}
.scoped-vacation .react-calendar__navigation button {
    background: none; border: 0; cursor: pointer; font-weight: 600;
    color: var(--ud-c-primary-text, #1d4ed8);
    padding: var(--ud-gap-xs, .5rem) var(--ud-gap-sm, .75rem);
    border-radius: var(--ud-radius-md, 12px);
    transition: background-color .2s, color .2s;
}
.scoped-vacation .react-calendar__navigation button:hover {
    background: var(--ud-c-primary-light-bg, rgba(37,99,235,.10));
    color: var(--ud-c-primary, #2563eb);
}
.scoped-vacation .react-calendar__navigation__label {
    flex: 1; text-align: center;
    font-size: var(--ud-fz-lg, 1.125rem); font-weight: 700;
    color: var(--ud-c-text, #0f172a);
}

/* Wochentage (Mo–So) */
.scoped-vacation .react-calendar__month-view__weekdays {
    text-transform: uppercase;
    font-size: var(--ud-fz-sm, .875rem);
    font-weight: 500;
    color: var(--ud-c-text-muted, #334155);
    padding-bottom: var(--ud-gap-xs, .5rem);
}
.scoped-vacation .react-calendar__month-view__weekdays abbr { text-decoration: none; }

/* Tages-Kacheln */
.scoped-vacation .react-calendar__tile {
    min-height: 70px;
    display: flex; flex-direction: column; align-items: center; justify-content: flex-start;
    gap: 4px;
    padding: var(--ud-gap-xs, .4rem);
    background: var(--ud-c-surface, #eef2f7);
    color: var(--ud-c-text, #0f172a);
    border-radius: var(--ud-radius-md, 12px);
    border: 1px solid transparent;
    transition: background-color .2s, border-color .2s, transform .15s;
    cursor: pointer;
}
[data-theme="dark"] .scoped-vacation .react-calendar__tile { background: var(--ud-c-surface, #232539); }
.scoped-vacation .react-calendar__tile abbr { font-weight: 500; font-size: var(--ud-fz-sm, .875rem); }

.scoped-vacation .react-calendar__tile:enabled:hover,
.scoped-vacation .react-calendar__tile:enabled:focus {
    background: var(--ud-c-primary-light-bg, rgba(37,99,235,.10));
    border-color: var(--ud-c-primary, #2563eb);
    outline: none; transform: scale(1.03);
}
.scoped-vacation .react-calendar__tile--active,
.scoped-vacation .react-calendar__tile--active:enabled:hover,
.scoped-vacation .react-calendar__tile--active:enabled:focus {
    background: var(--ud-c-primary, #2563eb);
    color: #fff; border-color: var(--ud-c-primary, #2563eb);
    box-shadow: var(--ud-shadow-interactive, 0 6px 15px rgba(37,99,235,.15));
    transform: scale(1.05);
}
.scoped-vacation .react-calendar__tile--now {
    background: var(--ud-c-surface, #eef2f7);
    border: 2px solid var(--ud-c-primary-dim, #1d4ed8);
}
[data-theme="dark"] .scoped-vacation .react-calendar__tile--now {
    background: var(--ud-c-surface, #232539);
    border-color: var(--ud-c-primary-dim, #3690f5);
}

/* Marker (Urlaub/Feiertag/Krank) */
.scoped-vacation .day-markers-container {
    display: flex; align-items: center; justify-content: center;
    gap: 4px; height: 10px; margin-top: 4px;
}
.scoped-vacation .holiday-marker { font-size: .9em; line-height: 1; }
.scoped-vacation .holiday-dot,
.scoped-vacation .sick-leave-dot {
    width: 7px; height: 7px; border-radius: 50%; flex-shrink: 0;
}
.scoped-vacation .holiday-dot { background: var(--ud-c-primary, #2563eb); }
.scoped-vacation .sick-leave-dot { background: var(--ud-c-error, #ef4444); }

/* ---------- Buttons unter dem Kalender ---------- */
.scoped-vacation .calendar-action-buttons {
    display: flex; align-items: center; justify-content: space-around;
    gap: var(--ud-gap-md, 1rem); margin-top: var(--ud-gap-lg, 1.5rem);
}
.scoped-vacation .request-vacation-button,
.scoped-vacation .report-sick-leave-button { flex: 1; }
.scoped-vacation .report-sick-leave-button {
    background: var(--ud-c-warn, #f59e0b); color: #0e101c; border-color: var(--ud-c-warn, #f59e0b);
}
.scoped-vacation .report-sick-leave-button:hover {
    background: var(--ud-c-warn-dim, #d39e00); border-color: var(--ud-c-warn-dim, #d39e00);
}

/* ---------- Modals (rein isoliert über data-context) ---------- */
.modal-overlay[data-context="vacation"] {
    position: fixed; inset: 0; display: flex; align-items: center; justify-content: center;
    padding: 1rem;
    background: var(--modal-backdrop-color, rgba(17,24,39,.55));
    backdrop-filter: blur(10px) saturate(150%);
    -webkit-backdrop-filter: blur(10px) saturate(150%);
    z-index: 10000;
}
.modal-content[data-context="vacation"] {
    background: var(--ud-c-card, #fff);
    color: var(--ud-c-text, #0f172a);
    border: 1px solid var(--ud-c-border, #dee2e6);
    border-radius: var(--ud-radius-xl, 24px);
    box-shadow: var(--ud-shadow-lg, 0 20px 40px rgba(0,0,0,.12));
    width: 100%; max-width: 520px; max-height: 90vh; overflow-y: auto;
    padding: var(--ud-gap-lg, 1.5rem);
}

/* Formular im Modal */
.modal-content[data-context="vacation"] .form-group { display: flex; flex-direction: column; gap: .4rem; margin-bottom: 1rem; }
.modal-content[data-context="vacation"] label { font-size: var(--ud-fz-sm, .875rem); color: var(--ud-c-text-muted, #334155); }
.modal-content[data-context="vacation"] input,
.modal-content[data-context="vacation"] select,
.modal-content[data-context="vacation"] textarea {
    font-family: inherit; font-size: var(--ud-fz-md, 1rem);
    background: var(--ud-c-surface, #eef2f7); color: var(--ud-c-text, #0f172a);
    border: 1px solid var(--ud-c-border, #dee2e6); border-radius: var(--ud-radius-md, 12px);
    padding: .6rem 1rem;
}
[data-theme="dark"] .modal-content[data-context="vacation"] input,
[data-theme="dark"] .modal-content[data-context="vacation"] select,
[data-theme="dark"] .modal-content[data-context="vacation"] textarea {
    background: var(--ud-c-surface, #232539);
    border-color: var(--ud-c-border, #3a3f58);
}

/* Button-Reihe im Modal */
.modal-content[data-context="vacation"] .modal-buttons {
    display: flex; gap: .75rem; justify-content: flex-end; margin-top: 1rem;
}

/* ---------- Responsive ---------- */
@media (max-width: 768px) {
    .scoped-vacation .vacation-calendar-wrapper { padding: var(--ud-gap-md, 1rem); }
    .scoped-vacation .react-calendar__tile { min-height: 60px; }
    .modal-content[data-context="vacation"] { max-width: calc(100vw - 1rem); padding: var(--ud-gap-md, 1rem); }
}
@media (max-width: 480px) {
    .scoped-vacation .react-calendar__tile { min-height: 46px; border-radius: var(--ud-radius-md, 10px); }
    .scoped-vacation .calendar-action-buttons { flex-direction: column; gap: var(--ud-gap-sm, .6rem); }
    .scoped-vacation .calendar-action-buttons button { width: 100%; }
    .modal-content[data-context="vacation"] .modal-buttons { flex-direction: column-reverse; }
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
    .scoped-vacation * { transition-duration: .01ms !important; animation-duration: .01ms !important; transform: none !important; }
}
